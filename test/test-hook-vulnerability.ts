import { exec } from 'child_process';
import * as mysql from 'mysql2';

// Test file with multiple security vulnerabilities

export function executeUserCommand(userInput: string) {
  // CRITICAL SECURITY ISSUE: Command injection
  exec(`echo ${userInput}`, (err, stdout) => {
    console.log(stdout);
  });
}

export async function getUser(db: any, userId: string) {
  // CRITICAL SECURITY ISSUE: SQL injection
  const query = `SELECT * FROM users WHERE id = '${userId}'`;
  return await db.execute(query);
}

// SECURITY ISSUE: Hardcoded credentials
const API_KEY = 'sk-prod-1234567890abcdef';
const DB_PASSWORD = 'admin123';
const AWS_SECRET = 'AKIAIOSFODNN7EXAMPLE';